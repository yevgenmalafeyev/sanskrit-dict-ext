<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Sanskrit Dictionary Extension Settings</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      margin: 0;
      padding: 0;
      background: #f5f5f7;
      color: #202124;
    }
    main {
      max-width: 960px;
      margin: 2rem auto;
      background: #fff;
      padding: 2rem;
      border-radius: 12px;
      box-shadow: 0 8px 32px rgba(15, 23, 42, 0.12);
    }
    h1 {
      margin-top: 0;
      margin-bottom: 1.5rem;
      font-size: 1.75rem;
    }
    section {
      margin-bottom: 2rem;
    }
    .order-controls {
      display: flex;
      gap: 1rem;
      align-items: stretch;
      flex-wrap: wrap;
    }
    #dictionary-order {
      flex: 1 1 320px;
      min-height: 320px;
      padding: 0.5rem;
    }
    .order-buttons {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .order-buttons button,
    .preselect-actions button {
      padding: 0.4rem 0.8rem;
      font-size: 0.95rem;
      cursor: pointer;
    }
    .checkbox-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
      gap: 0.4rem 1rem;
      align-items: start;
    }
    .preselect-groups h3 {
      margin: 1.25rem 0 0.5rem;
      font-size: 1.05rem;
      font-weight: 600;
    }
    .preselect-groups h3:first-of-type {
      margin-top: 0;
    }
    .preselect-groups .checkbox-grid {
      margin-bottom: 0.75rem;
    }
    .checkbox-grid label {
      display: flex;
      gap: 0.5rem;
      align-items: flex-start;
    }
    .checkbox-grid label span {
      line-height: 1.4;
    }
    .toggle {
      display: flex;
      align-items: center;
      gap: 0.6rem;
      font-weight: 600;
    }
    .hint {
      color: #5f6368;
      margin-top: 0.25rem;
      font-size: 0.9rem;
    }
    #status {
      min-height: 1.2rem;
      font-size: 0.95rem;
    }
    #status.success {
      color: #0f9d58;
    }
    #status.error {
      color: #d93025;
    }
    @media (max-width: 640px) {
      main {
        margin: 0;
        border-radius: 0;
        min-height: 100vh;
      }
    }
  </style>
</head>
<body>
  <main>
    <h1>Sanskrit Dictionary Settings</h1>

    <section>
      <h2>Search Result Order</h2>
      <p>Move dictionaries to choose which result blocks appear first after each search. Dictionaries not listed will appear after the ordered items.</p>
      <div class="order-controls">
        <select id="dictionary-order" aria-label="Preferred dictionary order" size="16"></select>
        <div class="order-buttons">
          <button type="button" id="move-up">Move Up</button>
          <button type="button" id="move-down">Move Down</button>
          <button type="button" id="move-top">Move to Top</button>
          <button type="button" id="move-bottom">Move to Bottom</button>
          <button type="button" id="reset-order">Reset Order</button>
        </div>
      </div>
    </section>

    <section>
      <h2>Always Preselect</h2>
      <p>Select the dictionaries that should be automatically enabled when the page loads with nothing selected.</p>
      <div class="preselect-actions" style="margin-bottom:0.75rem; display:flex; gap:0.5rem;">
        <button type="button" id="select-all">Select All</button>
        <button type="button" id="clear-all">Clear All</button>
      </div>
      <div id="preselect-list" class="preselect-groups"></div>
    </section>

    <section>
      <label class="toggle">
        <input type="checkbox" id="disable-autosearch" />
        <span>Disable autosearch (require pressing Enter)</span>
      </label>
      <p class="hint">When enabled, typing will not trigger searches until Enter is pressed.</p>
    </section>

    <section>
      <h2>Result Presentation</h2>
      <label class="toggle">
        <input type="checkbox" id="merge-results" checked />
        <span>Merge multiple results for the same dictionary into one block</span>
      </label>
      <p class="hint">When active, all articles from a dictionary are combined into a single block, separated by a blank paragraph.</p>
      <label class="toggle" style="margin-top:0.75rem;">
        <input type="checkbox" id="minimize-long" checked />
        <span>Minimize long articles</span>
      </label>
      <p class="hint">Collapse blocks longer than 50 lines by default. Use the +/- button to expand or collapse manually.</p>
    </section>

    <p id="status" role="status" aria-live="polite"></p>
  </main>

  <script src="dictionaries.js"></script>
  <script src="options.js"></script>
</body>
</html>
